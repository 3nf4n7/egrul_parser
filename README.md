# Предоставление сведений из ЕГРЮЛ/ЕГРИП.

API для поиска сведений из ЕГРЮЛ/ЕГРИП по наименованию юрлица, фио или инн. Технологии nodejs, mongodb, docker. Есть интерфейс, в котором можно осуществлять поиск.

## Описание

Поисковый запрос ищет по своей базе, в случае отсутствия результатов обращается к ресурсу https://egrul.nalog.ru/index.html и сохраняет найденное локально.
Результаты поиска выдаются с пагинацией, присутствует фильтр «Дата прекращения деятельности» - да/неважно/нет.

Для обновления данных имеется поле, хранящее последнее обновление документа. Данные обновляются при запросе выписки, если документ обновлялся более чем день назад.

Выписка сохраняется в файл на диске.

## Запуск приложения:

docker-compose up --build

## Запросы:

/api/egrul?query=[поисковой запрос]&page=[номер страницы (по умолчанию 1)]&filter=[значение поля даты прикращения деятельности] - возвращает список из ЕГРЮЛ, удовлетворяющий поисковому запросу.

/api/egrul/download?id=[id записи для запрашиваемой выписки]

## Схема:

mongoose.Schema({  
 legal: String,  
 ogrnip: String,  
 ogrn: String,  
 inn: String,  
 kpp: String,  
 ogrnipStart: String,  
 ogrnStart: String,  
 endDate: String,  
 filePath: String,  
 updateTimestamp: Number,  
})
